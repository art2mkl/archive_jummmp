{% extends 'base.html.twig' %}

{% block title %}Hobbies index
{% endblock %}

{% block body %}
	<h1>Liste des hobbies
		<a class="btn" href="{{ path('cv_show', {'id': app.session.get('id')}) }}">
			<i class="fas fa-undo-alt"></i>
		</a>
	</h1>
	{% if hobbies|length == 0 %}
		<p>Pas de hobby pour l'instant</p>
	{% else %}

		{% for hobby in hobbies %}
			{% if app.user and (app.user is same as(hobby.userId) )%}
				<div class="box">
					<div class="boxLeft">
						<p>{{hobby.icon}}
							{{ hobby.hobbyName }}</p>
					</div>

					<div class="box">
						<a class="btn" href="{{ path('hobbies_edit', {'id': hobby.id}) }}">
							<i class="fas fa-edit"></i>
						</a>
						<form method="post" action="{{ path('hobbies_delete', {'id': hobby.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
							<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ hobby.id) }}">
							<button class="btn">
								<i class="far fa-trash-alt"></i>
							</button>
						</form>
					</div>
				</div>

			{% endif %}
		{% endfor %}
	{% endif %}


	<h2>
		<i class="fas fa-plus-circle"></i>
		Ajoute un nouveau hobby</h2>

	{{ include('hobbies/_form.html.twig') }}

{% endblock %}
